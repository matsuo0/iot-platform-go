# IoT Platform Go - プロジェクト概要

## プロジェクトの目的

IoTデバイス管理プラットフォームの構築を通じて、以下の目標を達成します：

- **リアルタイムデバイス監視**: MQTTを使用したリアルタイムデータ収集
- **スケーラブルなアーキテクチャ**: マイクロサービス指向の設計
- **時系列データ分析**: InfluxDBを使用した高性能データ処理
- **WebSocketダッシュボード**: リアルタイム可視化インターフェース

## 技術スタック

### バックエンド
- **言語**: Go 1.21+
- **Webフレームワーク**: Gin
- **アーキテクチャ**: クリーンアーキテクチャ（レイヤー分離）

### データベース
- **メタデータ**: PostgreSQL
- **時系列データ**: InfluxDB（Phase 3で導入予定）

### メッセージング
- **MQTTブローカー**: Mosquitto
- **リアルタイム通信**: WebSocket

### インフラ
- **コンテナ化**: Docker & Docker Compose
- **監視**: Grafana（オプション）
- **認証**: JWT

## 開発フェーズ

### Phase 1: 基盤構築 ✅
- [x] RESTful API基盤
- [x] PostgreSQL統合
- [x] クリーンアーキテクチャ実装
- [x] 設定管理
- [x] ヘルスチェック

### Phase 2: MQTT統合 🔄
- [ ] MQTTクライアント実装
- [ ] デバイスデータ収集
- [ ] リアルタイムメッセージ処理
- [ ] デバイスステータス監視

### Phase 3: 時系列データ 📊
- [ ] InfluxDB統合
- [ ] データ集約・圧縮
- [ ] 履歴データ分析
- [ ] パフォーマンス最適化

### Phase 4: リアルタイムダッシュボード 🖥️
- [ ] WebSocket実装
- [ ] フロントエンドダッシュボード
- [ ] リアルタイムデータ可視化
- [ ] デバイス制御インターフェース

## アーキテクチャ原則

### クリーンアーキテクチャ
```
┌─────────────────┐
│   API Layer     │ ← HTTP handlers
├─────────────────┤
│ Business Logic  │ ← Use cases
├─────────────────┤
│ Repository      │ ← Data access
├─────────────────┤
│ Infrastructure  │ ← Database, MQTT, etc.
└─────────────────┘
```

### 依存関係の方向
- 内側のレイヤーは外側のレイヤーに依存しない
- 依存性注入を使用して結合度を下げる
- インターフェースを使用して抽象化

## 主要機能

### デバイス管理
- デバイスの登録・更新・削除
- デバイスステータス監視
- デバイスタイプ別の管理

### データ収集
- MQTT経由でのセンサーデータ収集
- 時系列データの保存・分析
- データの前処理・変換

### リアルタイム監視
- WebSocket経由でのリアルタイム更新
- ダッシュボードでの可視化
- アラート機能

## パフォーマンス目標

- **レスポンス時間**: API < 100ms
- **同時接続数**: 1000+ デバイス
- **データ処理**: 10000+ メッセージ/秒
- **可用性**: 99.9%

## セキュリティ要件

- JWT認証
- HTTPS通信
- データ暗号化
- アクセス制御
- 監査ログ 